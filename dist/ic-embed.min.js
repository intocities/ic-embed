(function(){"use strict";var e=function(e){if(!e||!e.contentWindow)throw Error("must give iframe!");this.options={iframe:e,origin:e.src.split("/").slice(0,3).join("/")};var n=this;window.addEventListener("message",function(e){(function(e){if(e!==n.options.origin)throw new Error("Discarding message; untrusted event origin.")})(e.origin),t=e.data.name,i=e.data,n.options.iframe.dispatchEvent(new window.CustomEvent(t,{detail:i}));var t,i},!1),this.changeScene=function(e,t,i){var o,s={name:"changeScene",sceneId:e};t&&(s.ath=parseFloat(t,10)),i&&(s.atv=parseFloat(i,10)),o=s,n.options.iframe.contentWindow.postMessage(o,n.options.origin)}};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports.ICEmbed=e):this.ICEmbed=e}).call(this);